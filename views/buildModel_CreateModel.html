<div class="row">
    <!--模型創建-->
    <div class="col-md-5 col-xs-12 col-sm-12">
        <div class="ibox">
            <div class="ibox-title"><h2>{{"logicWord"|translate}}</h2></div>
            <div class="ibox-content">

                <h4>{{"keywordTitle"|translate}}：</h4>
                  <tags-input ng-model="createModelCtrl.syntaxBinding.query"
                            min-length="0"
                            add-on-space="true"
                            add-on-paste="true"
                            enable-editing-last-tag="true"
                            paste-split-pattern="\s|,"
                            allow-leftover-text="true"
                            add-on-enter="true"
                            tags-repeat="true"
                            placeholder="{{'keywordPlaceholder'|translate}}"
                            focus="createModelCtrl.keywordInputFocus"
                        >
                    <auto-complete source="createModelCtrl.autoTips($query)"
                                   min-length="0"
                                   select-first-match="false"></auto-complete>
                </tags-input>

                <div>
                    <div class="radio "><label> <input  icheck type="radio" name="modelRadio" value="OR"
                                                      ng-model="createModelCtrl.syntaxBinding.operator" >
                        {{"eitherAccord"|translate}}
                    </label></div>
                    <div class="radio"><label> <input icheck type="radio" name="modelRadio" value="AND"
                                                      ng-model="createModelCtrl.syntaxBinding.operator"  >
                        {{"allAccord"|translate}}
                    </label></div>
                </div>

                <div class="form-inline col-xs-offset-1" ng-show="createModelCtrl.syntaxBinding.operator=='AND'">
                    <div class="checkbox">
                        <label><input icheck type="checkbox" name="radioTest"
                                      ng-model="createModelCtrl.syntaxBinding.isNear"
                                      ng-true-value="true"
                                      ng-false-value="false">
                            {{"wordDistance"|translate}}：
                        </label>
                        <number-picker number="createModelCtrl.syntaxBinding.slop" size="3"></number-picker>
                        &nbsp;&nbsp;
                        <label ng-if="createModelCtrl.syntaxBinding.isNear">
                            <input icheck type="checkbox" name="radioTest" ng-model="createModelCtrl.syntaxBinding.inOrder">
                            <span>  {{"afterWord"|translate}}</span>
                        </label>

                    </div>
                </div>

                <h4>{{"keywordRole"|translate}}：</h4>
                <select class="form-control m-b" ng-model="createModelCtrl.syntaxBinding.role" ng-options="role.name for role in  createModelCtrl.roles">
                    <option value="">----</option>
                </select>

                <hr/>
                <div class="row">
                    <div ng-class="{false:'btn-group'}[createModelCtrl.isRounded()]">
                        <label class="col-xs-6 col-md-4 col-sm-4 btn btn-success "
                               ng-class="{false:'btn-rounded'}[createModelCtrl.isRounded()]"
                               ng-model="createModelCtrl.syntaxBinding.occurrence"
                               btn-radio="'must'">{{"mustHave"|translate}}</label>
                        <label class="col-xs-6 col-md-4 col-sm-4 btn btn-success "
                               ng-model="createModelCtrl.syntaxBinding.occurrence"
                               btn-radio="'must_not'">{{"mustNot"|translate}}</label>
                        <label class="col-xs-6 col-md-4 col-sm-4 btn btn-success "
                               ng-class="{false:'btn-rounded'}[createModelCtrl.isRounded()]"
                               ng-model="createModelCtrl.syntaxBinding.occurrence"
                               btn-radio="'should'">{{"should"|translate}}</label>
                    </div>
                    <button class="col-xs-6 col-md-4 col-sm-4 col-lg-2 pull-right btn btn-success btn-rounded  "
                            ng-click="createModelCtrl.addToBuildSection(createModelCtrl.basicQuery,createModelCtrl.keywords)"
                            ng-disabled="createModelCtrl.syntaxBinding.query.length<=0 || !createModelCtrl.syntaxBinding.operator"><i
                            class="fa fa-plus"></i>&nbsp;{{"join"|translate}}
                    </button>
                </div>

            </div>
        </div>
        <!--可復用的模型組件-->
        <div class="ibox">
            <div class="ibox-title ">
                <h2>{{"reuseModel"|translate}}
                    <div class="pull-right">
                        <button class="btn btn-primary btn-rounded" ng-click="createModelCtrl.addTab()">
                            {{"create"|translate}}
                        </button>
                        <button class="btn btn-primary btn-rounded">
                            {{"update"|translate}}
                        </button>
                    </div>
                </h2>
            </div>
            <div class="ibox-content">
                <div nested-scroll  class="btn-group btn-group-vertical btn-block "
                     ng-class="{true:'model-preview'}[createModelCtrl.reuseModel.length>5]">
                    <label class="btn btn-success btn-outline  animated fadeInLeft"
                           ng-repeat="model in createModelCtrl.reuseModel"
                           ng-model="checked"
                           ng-click="createModelCtrl.toggleSelection(createModelCtrl.selectedReuseModel,model)"
                           btn-checkbox>
                        {{model.name}}
                    </label>
                </div>
                <hr/>
                <div class="row">
                    <div ng-class="{false:'btn-group'}[createModelCtrl.isRounded()]">
                        <label class="col-xs-6 col-md-4 col-sm-4 btn btn-success"
                               ng-class="{false:'btn-rounded'}[createModelCtrl.isRounded()]"
                               ng-model="createModelCtrl.modelSection.reuseModel"
                               btn-radio="'mustHave'">{{"mustHave"|translate}}</label>
                        <label class="col-xs-6 col-md-4 col-sm-4  btn btn-success"
                               ng-model="createModelCtrl.modelSection.reuseModel"
                               btn-radio="'mustNot'">{{"mustNot"|translate}}</label>
                        <label class="col-xs-6 col-md-4 col-sm-4  btn btn-success "
                               ng-class="{false:'btn-rounded'}[createModelCtrl.isRounded()]"
                               ng-model="createModelCtrl.modelSection.reuseModel"
                               btn-radio="'should'">{{"should"|translate}}</label>
                    </div>
                    <button class="col-xs-6 col-md-4 col-sm-4 col-lg-2  pull-right btn btn-success  btn-rounded "
                            ng-disabled="createModelCtrl.selectedReuseModel.length <= 0"><i
                            class="fa fa-plus"></i>&nbsp;{{"join"|translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!--查詢條件-->
    <div class="col-md-4 col-xs-12  col-sm-12">
        <div class="ibox">
            <div class="ibox-title"><h2>{{"queryConditions"|translate}}<span title="{{'undo'|translate}}"
                                                                             class="btn btn-default btn-outline fa fa-undo animated wobble  pull-right"
                                                                             ng-click="createModelCtrl.undo()"
                                                                             ng-show="createModelCtrl.showUndo"></span>
            </h2></div>
            <div class="ibox-content">
                <!--auto render-->
                <build-section datasource="createModelCtrl.sections"
                               clear-all-text="{{::'clearAll'|translate}}"
                               clear="createModelCtrl.sectionsClear"
                               items-property="{{::'items'}}"
                               item-editable-property="{{::'itemInfo.editable'}}"
                               item-dblclick="createModelCtrl.sectionsDblclick">
                    <item-template>
                        {{item.itemInfo.query}}&nbsp;{{item.itemInfo.logic}}&nbsp;{{item.itemInfo.distance}}
                    </item-template>
                </build-section>
            </div>
        </div>
    </div>

    <div class="col-md-3 col-xs-12 col-sm-12">
        <!--配置-->
        <div class="ibox" ng-show="createModelCtrl.isInstance">
            <div class="ibox-title"><h2>{{"config"|translate}}</h2></div>
            <div class="ibox-content">
                <model-instance datasource="createModelCtrl.modelDatasource.models"
                                selected-eventhandler="createModelCtrl.modelGroupsSelectedHandler"
                                add-model-group="createModelCtrl.addModelGroup"
                                delete-model="createModelCtrl.deleteModel"
                                rename-model="createModelCtrl.renameModel"
                                is-instance="true"
                                ng-hide="createModelCtrl.isComponent">

                </model-instance>

            </div>
        </div>
        <!--進階功能-->
        <div class="ibox">
            <div class="ibox-title">
                <h2 translate="whatEditing">{{'componentOrModelName'|translate}}</h2>
            </div>
            <div class="ibox-content">
                <button class="btn btn-success btn-block"
                        ng-click="createModelCtrl.nextToDo()"
                        ng-hide="createModelCtrl.nextView">
                    <i class="fa fa-info-circle"></i>&nbsp;{{'next'|translate}}
                </button>
                <!--創建模型顯示控件-->
                <form class="form-group animated fadeIn" ng-show="createModelCtrl.nextView">
                        <input type="text" class="form-control btn-block" ng-model="createModelCtrl.saveAsName"
                               placeholder="{{'modelNamePlaceholder'|translate}}"
                               focus="createModelCtrl.saveAsNameInputFocus" required/>
                         <button  class="btn btn-success btn-block"
                                 ng-click="createModelCtrl.saveAs('save')">
                                {{'saveModel'|translate}}
                         </button>
                        <button class="btn btn-success btn-block"  ng-click="createModelCtrl.saveAs('online')">{{'saveModelAndOnline'|translate}}</button>
                        <button class="btn btn-success btn-block"  ng-click="createModelCtrl.saveAs('edit')">{{'saveModelAndEdit'|translate}}</button>
                </form>

            </div>
        </div>
    </div>
</div>